<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Графіки функцій</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-50 p-8">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-3xl font-bold mb-8 text-center text-gray-800">Візуалізація функції</h1>


        <!-- Form section -->
        <div class="bg-white p-4 rounded-lg shadow-md mb-8">
            <div class="max-w-2xl mx-auto">
                <form method="GET" class="mb-2">
                    <div class="flex gap-4 items-center relative">
                        <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500">f(x) =</span>
                        <input type="text" id="f" name="f" required placeholder="x^2 + 5*x + 5" value="{{ function }}"
                            class="flex-1 pl-16 p-2 border rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <button type="submit"
                            class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors">
                            Побудувати
                        </button>
                    </div>
                </form>
            </div>
        </div>


        <!-- Quick examples -->
        <div class="mb-2">
            <p class="text-sm text-gray-600 mb-2">Приклади функцій:</p>
            <div class="flex flex-wrap gap-2">
                <a href="/?f=x^2" class="px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700">
                    x²
                </a>
                <a href="/?f=x^3" class="px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700">
                    x³
                </a>
                <a href="/?f=sin(x)" class="px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700">
                    sin(x)
                </a>
                <a href="/?f=cos(x)" class="px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700">
                    cos(x)
                </a>
                <a href="/?f=sqrt(x)"
                    class="px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700">
                    √x
                </a>
                <a href="/?f=1/(1%2Bx^2)"
                    class="px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700">
                    1/(1+x²)
                </a>
            </div>
        </div>
    </div>
    </div>


    {% if error %}
    <div class="max-w-md mx-auto mb-8 p-4 bg-red-50 text-red-700 rounded-lg">
        {{ error }}
    </div>
    {% endif %}

    {% if plot_html or analysis %}
    <div class="container mx-auto flex flex-col lg:flex-row gap-8">
        {% if plot_html %}
        <div class="lg:w-1/2 bg-white rounded-lg shadow-md overflow-hidden">
            {{ plot_html|safe }}
        </div>
        {% endif %}

        {% if analysis %}
        <div class="lg:w-1/2">
            {% include 'analysis.html' %}
        </div>
        {% endif %}
    </div>
    {% endif %}
    </div>
</body>

</html>